---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ProjectCard from '../components/ProjectCard.astro';
import { getCollection } from 'astro:content';

// Fetch all project entries from the 'projects' collection
const projects = await getCollection('projects');

// Sort projects based on your preferred order
// (e.g., by a 'priority' frontmatter field in your markdown files, or simply manually)
// For now, let's assume a manual sort based on the provided list order
const sortedProjects = [
  projects.find(p => p.slug === 'static-profiling-website'),
  // projects.find(p => p.slug === 'camping-rental-website'),
  // projects.find(p => p.slug === 'camping-rental-mobile-app'),
  // projects.find(p => p.slug === 'plate-collecting-goose-game'),
  // projects.find(p => p.slug === 'star-collecting-3d-game'),
].filter(Boolean); // Filter out any undefined if slug doesn't match
---

<Layout title="Zakiyah Hasanah - Developer Portfolio" description="A full-stack developer portfolio showcasing projects, skills, and achievements.">
  <Header />

  <!-- Hero Section -->
  <section class="relative h-screen flex items-center justify-center text-center px-4 overflow-hidden">
    <!-- Star field is in Layout.astro for persistent background -->
    <div class="animate-fade-in-up">
      <h1 class="text-5xl md:text-7xl font-extrabold text-star-light mb-4 leading-tight">
        Crafting Robust Solutions,<br class="hidden md:block" /> From Backend to Full-Stack.
      </h1>
      <p class="text-lg md:text-xl text-star-light opacity-80 max-w-2xl mx-auto mb-8">
        A backend-first developer passionate about elegant, efficient solutions and continuous learning in software development, AI, and ML.
      </p>
      <a href="#projects" class="inline-block bg-accent-blue hover:bg-accent-purple text-space-dark font-bold py-3 px-8 rounded-full shadow-lg transform hover:-translate-y-1 transition-all duration-300">
        Explore My Projects
      </a>
    </div>
    <!-- Subtle Kitty Space Icon (Optional, adjust placement/design)
    <div class="absolute bottom-10 right-10 text-6xl opacity-30 animate-fade-in pointer-events-none">
      üååüêà
    </div> -->
  </section>

  <!-- About Me Section -->
  <section id="about" class="container mx-auto py-16 px-4 md:px-8 text-center animate-on-scroll">
    <h2 class="text-4xl font-bold text-accent-blue mb-8">About Me</h2>
    <div class="max-w-3xl mx-auto text-lg leading-relaxed">
      <p class="mb-4">
        I believe in the art of clean code and the power of thoughtful design. As a versatile backend and full-stack developer, I transform complex challenges into intuitive, high-performance applications. My craft is defined by an affinity for minimal, flexible, and portable code, solving problems with elegant efficiency.
      </p>
      <p class="mb-4">
        Forever a learner, I am captivated by the future of AI and machine learning, constantly deepening my expertise in software development best practices. I find my rhythm and accelerate my growth when collaborating with equally enthusiastic minds, believing the best solutions emerge from passionate teamwork.
      </p>
      <h3 class="text-2xl font-semibold text-accent-purple mt-10 mb-4">Skills I'm Confident In</h3>
      <div class="flex flex-wrap justify-center gap-4 text-sm md:text-base">
        <span class="skill-tag">PHP</span>
        <span class="skill-tag">Python</span>
        <span class="skill-tag">C++</span>
        <span class="skill-tag">C</span>
        <span class="skill-tag">C#</span>
        <span class="skill-tag">MySQL</span>
        <span class="skill-tag">Laravel</span>
        <span class="skill-tag">Flutter</span>
        <span class="skill-tag">Unity</span>
        <span class="skill-tag">FastAPI</span>
        <span class="skill-tag">Backend Development</span>
        <span class="skill-tag">Full-stack Development</span>
        <span class="skill-tag">API Design</span>
      </div>
      <h3 class="text-2xl font-semibold text-accent-purple mt-8 mb-4">Currently Exploring</h3>
      <div class="flex flex-wrap justify-center gap-4 text-sm md:text-base">
        <span class="skill-tag">Artificial Intelligence</span>
        <span class="skill-tag">Machine Learning</span>
        <span class="skill-tag">Software Development Best Practices</span>
      </div>
    </div>
  </section>

  <!-- Projects Section -->
  <section id="projects" class="container mx-auto py-16 px-4 md:px-8 animate-on-scroll">
    <h2 class="text-4xl font-bold text-accent-blue text-center mb-12">My Projects</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {sortedProjects.map(project => 
        project && (
          <ProjectCard
            title={project.data.title}
            description={project.data.description}
            technologies={project.data.technologies}
            imageSrc={project.data.thumbnail || '/placeholder-image.jpg'}
            link={`/projects/${project.slug}`}
          />
        )
      )}
    </div>
  </section>

  <!-- Awards & Achievements Section -->
  <section id="achievements" class="container mx-auto py-16 px-4 md:px-8 text-center animate-on-scroll">
    <h2 class="text-4xl font-bold text-accent-blue mb-12">Awards & Achievements</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto">
      <div class="achievement-card">
        <div class="text-5xl mb-4">üèÜ</div>
        <h3 class="text-2xl font-semibold text-accent-purple mb-2">Google Code-in Finalist</h3>
        <p class="text-star-light">Recognized for open-source contributions on an international stage for two consecutive years (2018, 2019).</p>
      </div>
      <div class="achievement-card">
        <div class="text-5xl mb-4">ü•á</div>
        <h3 class="text-2xl font-semibold text-accent-purple mb-2">1st Place - DINAMIK 18</h3>
        <p class="text-star-light">Secured 1st Place in a competitive programming contest (Study Program Level, 2023).</p>
      </div>
      <div class="achievement-card">
        <div class="text-5xl mb-4">ü•â</div>
        <h3 class="text-2xl font-semibold text-accent-purple mb-2">3rd Place - National Mobile App Contest</h3>
        <p class="text-star-light">Awarded 3rd Place in a national educational mobile app contest (2020, Team).</p>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="container mx-auto py-16 px-4 md:px-8 text-center animate-on-scroll">
    <h2 class="text-4xl font-bold text-accent-blue mb-8">Let's Connect!</h2>
    <p class="text-lg text-star-light max-w-2xl mx-auto mb-8">
      Eager to collaborate on challenging projects and explore new technologies. Feel free to reach out or connect with me on these platforms.
    </p>
    <div class="flex justify-center space-x-6">
      <a href="https://linkedin.com/in/your-linkedin-profile" target="_blank" rel="noopener noreferrer" class="social-icon">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
        LinkedIn
      </a>
      <a href="https://github.com/your-github-profile" target="_blank" rel="noopener noreferrer" class="social-icon">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 3S18.73.65 16 2.5a6.01 6.01 0 0 0-12 0c-2.73-1.85-3.91-1.2-3.91-1.2A5.07 5.07 0 0 0 2 4.77a5.44 5.44 0 0 0 0 5.09c0 5.49 3.3 6.69 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
        GitHub
      </a>
      <a href="mailto:your-email@example.com" class="social-icon">
        <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
        Email
      </a>
    </div>
  </section>

  <Footer />

  <style>
    /* Specific styles for this page if needed */
    .skill-tag {
      @apply bg-space-blue text-star-light px-4 py-2 rounded-full shadow-md transition-all duration-300 transform hover:scale-105 hover:bg-accent-blue;
    }
    .achievement-card {
      @apply p-6 border border-space-blue rounded-xl bg-space-dark/50 flex flex-col items-center justify-center transition-all duration-300 transform hover:scale-105 hover:bg-purple-900/50;
    }
    .social-icon {
      @apply flex items-center space-x-2 text-star-light hover:text-accent-blue transition-colors duration-300;
    }
    .social-icon svg {
      @apply w-6 h-6;
    }
  </style>
</Layout>
